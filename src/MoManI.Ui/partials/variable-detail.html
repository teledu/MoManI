<div class="container-fluid">
    <div class="row">
        <form name="detailsForm" class="form-horizontal">
            <div class="form-group">
                <label for="variableName" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="variableName" ng-model="variable.name" required>
                </div>
            </div>
            <div class="form-group">
                <label for="variableDescription" class="col-sm-2 control-label">Description</label>
                <div class="col-sm-10">
                    <textarea class="form-control" id="variableDescription" ng-model="variable.description"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Sets</label>
                <div class="col-sm-10">
                    <div ng-repeat="variableSet in variable.sets" class="clearfix">
                        <div class="col-sm-6">
                            <select class="form-control" ng-options="set.id as set.name for set in variable.setOptions"
                                    ng-model="variableSet.value"></select>
                        </div>
                        <div class="col-sm-1">
                            <button type="button" class="btn btn-default" ng-click="variable.removeSet(variableSet)">
                                <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                    <div>
                        <button type="button" class="btn btn-default" ng-click="variable.addSet()">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-click="toggleConstraint($event)" ng-checked="variable.constraint"> Has constraint
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group" ng-if="variable.constraint">
                <label for="variableOperator" class="col-sm-2 control-label">Operator</label>
                <div class="col-sm-10">
                    <select class="form-control" id="variableOperator"
                            ng-options="operator.id as operator.name for operator in operators"
                            ng-model="variable.constraint.operator" required></select>
                </div>
            </div>
            <div class="form-group" ng-if="variable.constraint">
                <label for="variableConstraint" class="col-sm-2 control-label">Value</label>
                <div class="col-sm-10">
                    <input class="form-control" id="variableConstraint" ng-model="variable.constraint.value" required/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="variable.integer">Integer
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-default" ng-click="save()">Save</button>
                    <a href="#/variables" class="btn btn-default">Cancel</a>
                </div>
            </div>
        </form>
    </div>
</div>

<span us-spinner spinner-on="loading"></span>